# DotMac Omni Environment Configuration Example
# Copy this file to .env and fill in secure values
#
# IMPORTANT: All secrets must be minimum 24 bytes (192 bits)
# Generate with: python3 -c "import secrets; import base64; print(base64.urlsafe_b64encode(secrets.token_bytes(32)).decode().rstrip('='))"

# =============================================================================
# Core Secrets (REQUIRED - min 24 bytes / 192 bits)
# =============================================================================
JWT_SECRET=<generate-32-byte-key>
TOTP_ENCRYPTION_KEY=<generate-32-byte-key>
WIREGUARD_KEY_ENCRYPTION_KEY=<generate-32-byte-key>
SESSION_SECRET=<generate-32-byte-key>

# =============================================================================
# Database Configuration
# =============================================================================
POSTGRES_USER=postgres
POSTGRES_PASSWORD=<generate-secure-password>
POSTGRES_DB=dotmac_omni
DATABASE_URL=postgresql+psycopg://postgres:<password>@db:5432/dotmac_omni

# =============================================================================
# Redis Configuration
# =============================================================================
REDIS_PASSWORD=<generate-secure-password>
REDIS_URL=redis://:<password>@redis:6379/0
CELERY_BROKER_URL=redis://:<password>@redis:6379/0
CELERY_RESULT_BACKEND=redis://:<password>@redis:6379/1

# =============================================================================
# OpenBao (Vault-compatible secrets manager)
# =============================================================================
OPENBAO_ADDR=http://openbao:8200
OPENBAO_ROOT_TOKEN=<generate-secure-token>

# For production, use AppRole instead of root token:
# OPENBAO_ROLE_ID=<role-id>
# OPENBAO_SECRET_ID=<secret-id>

# =============================================================================
# JWT Configuration
# =============================================================================
JWT_ALGORITHM=HS256
JWT_ACCESS_TTL_MINUTES=15
JWT_REFRESH_TTL_DAYS=30

# =============================================================================
# Meta/Facebook Integration (optional)
# =============================================================================
META_APP_SECRET=
META_GRAPH_API_VERSION=v21.0

# =============================================================================
# WireGuard VPN Configuration
# =============================================================================
WIREGUARD_USE_NSENTER=1
VPN_BLOCKED_LAN_SUBNETS=172.20.255.0/24

# =============================================================================
# Application Settings
# =============================================================================
APP_ENV=development
DEBUG=true
LOG_LEVEL=INFO

# =============================================================================
# Nominatim Geocoding (Nigeria by default)
# =============================================================================
NOMINATIM_URL=http://nominatim:8080

# =============================================================================
# Email Configuration (optional)
# =============================================================================
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_USER=user@example.com
# SMTP_PASSWORD=<password>
# SMTP_FROM_EMAIL=noreply@example.com
# SMTP_FROM_NAME=DotMac Omni

# =============================================================================
# SMS Configuration (optional)
# =============================================================================
# TWILIO_ACCOUNT_SID=
# TWILIO_AUTH_TOKEN=
# TWILIO_PHONE_NUMBER=
