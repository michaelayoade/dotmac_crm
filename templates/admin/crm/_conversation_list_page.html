{% if conversations %}
    {% include "admin/crm/_conversation_list_items.html" %}
{% else %}
<div class="flex flex-col items-center justify-center py-16 px-8 text-center">
    <div class="w-16 h-16 rounded-2xl bg-slate-100 border border-slate-200 flex items-center justify-center mb-4 dark:bg-slate-800/50 dark:border-slate-700/50">
        <svg class="w-8 h-8 text-slate-500 dark:text-slate-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"/>
        </svg>
    </div>
    <h3 class="text-sm font-semibold text-slate-700 mb-1 dark:text-slate-400">No conversations</h3>
    <p class="text-xs text-slate-500 dark:text-slate-500">{% if search %}No results for "{{ search }}"{% else %}All caught up!{% endif %}</p>
</div>
{% endif %}

<div class="px-4 py-4 text-center flex items-center justify-center gap-3 text-xs text-slate-500 dark:text-slate-400">
    <span>Page {{ conversations_page or 1 }}</span>
    {% if conversations_prev_page %}
    <button id="conversation-list-prev"
            class="inline-flex items-center gap-2 rounded-lg border border-slate-200 bg-white px-3 py-1.5 text-xs font-semibold text-slate-600 shadow-sm hover:bg-slate-50 dark:border-slate-700 dark:bg-slate-900/60 dark:text-slate-300 dark:hover:bg-slate-800"
            hx-get="/admin/crm/inbox/conversations?page={{ conversations_prev_page }}&limit={{ conversations_limit }}{% if current_channel %}&channel={{ current_channel | urlencode }}{% endif %}{% if current_status %}&status={{ current_status | urlencode }}{% endif %}{% if current_assignment %}&assignment={{ current_assignment | urlencode }}{% endif %}{% if current_target_id %}&target_id={{ current_target_id | urlencode }}{% endif %}{% if search %}&search={{ search | urlencode }}{% endif %}"
            hx-target="#conversation-list"
            hx-swap="innerHTML">
        Back
    </button>
    {% endif %}
    {% if conversations_has_more %}
    <button id="conversation-list-next"
            class="inline-flex items-center gap-2 rounded-lg border border-slate-200 bg-white px-4 py-2 text-xs font-semibold text-slate-600 shadow-sm hover:bg-slate-50 dark:border-slate-700 dark:bg-slate-900/60 dark:text-slate-300 dark:hover:bg-slate-800"
            hx-get="/admin/crm/inbox/conversations?page={{ conversations_next_page }}&limit={{ conversations_limit }}{% if current_channel %}&channel={{ current_channel | urlencode }}{% endif %}{% if current_status %}&status={{ current_status | urlencode }}{% endif %}{% if current_assignment %}&assignment={{ current_assignment | urlencode }}{% endif %}{% if current_target_id %}&target_id={{ current_target_id | urlencode }}{% endif %}{% if search %}&search={{ search | urlencode }}{% endif %}"
            hx-target="#conversation-list"
            hx-swap="innerHTML">
        Next
    </button>
    {% endif %}
</div>
